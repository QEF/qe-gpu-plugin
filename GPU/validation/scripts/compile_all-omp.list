declare -a makescript
makescript_lenght=29
QEDIRPATH='/local/fs395'
QEDIRNAME='espresso'
QEVERSION='QE-SVN'

makescript[1]=$(cat <<EOF
make distclean
./configure --disable-parallel --enable-openmp
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-omp.x
EOF
)
makescript[2]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu.x
EOF
)

makescript[3]=$(cat <<EOF
make distclean
./configure --enable-parallel --enable-openmp --without-scalapack
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi-omp.x
EOF
)

makescript[4]=$(cat <<EOF
make distclean
./configure --enable-parallel --enable-openmp --with-scalapack
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi-omp-scalapack.x
EOF
)

makescript[5]=$(cat <<EOF
make distclean
./configure --enable-parallel --enable-openmp --with-scalapack --with-elpa
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi-omp-elpa.x
EOF
)

makescript[6]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu.x
EOF
)

makescript[7]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --with-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu-scalapack.x
EOF
)

makescript[8]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --with-scalapack --disable-profiling --with-elpa
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu-elpa.x
EOF
)

makescript[9]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm  --without-scalapack --disable-profiling   --with-internal-cblas
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu-magma.x
EOF
)

makescript[10]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm --disable-profiling  
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-PHIGEMM.x
EOF
)

makescript[11]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm --enable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-PHIGEMM-profiling.x
EOF
)

makescript[12]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --disable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-MAGMA.x
EOF
)

makescript[13]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --disable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-NEWD.x
EOF
)

makescript[14]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --disable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-ADDUSDENS.x
EOF
)

makescript[15]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --disable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_only-VLOCPSI.x
EOF
)

makescript[16]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --without-scalapack --disable-profiling  
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_only-PHIGEMM.x
EOF
)

makescript[17]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --without-scalapack --enable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_only-PHIGEMM-profiling.x
EOF
)

makescript[18]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --disable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_only-MAGMA.x
EOF
)

makescript[19]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --disable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_only-NEWD.x
EOF
)

makescript[20]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --disable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_only-ADDUSDENS.x
EOF
)

makescript[21]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --disable-phigemm --disable-profiling  
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_excluding-PHIGEMM.x
EOF
)

makescript[22]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_excluding-MAGMA.x
EOF
)

makescript[23]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_excluding-NEWD.x
EOF
)

makescript[24]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_excluding-ADDUSDENS.x
EOF
)

makescript[25]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-omp-gpu_excluding-VLOCPSI.x
EOF
)

makescript[26]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --disable-phigemm  --without-scalapack --disable-profiling  
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_excluding-PHIGEMM.x
EOF
)

makescript[27]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --disable-magma --enable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_excluding-MAGMA.x
EOF
)

makescript[28]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_excluding-NEWD.x
EOF
)

makescript[29]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --enable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --enable-magma --enable-phigemm  --without-scalapack --disable-profiling
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-omp-gpu_excluding-ADDUSDENS.x
EOF
)

