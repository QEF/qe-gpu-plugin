declare -a makescript
makescript_lenght=29
QEDIRPATH='/local/fs395'
QEDIRNAME='espresso'
QEVERSION='QE-SVN'

makescript[1]=$(cat <<EOF
make distclean
./configure --disable-parallel --disable-openmp
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw.x
EOF
)
makescript[2]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu.x
EOF
)

makescript[3]=$(cat <<EOF
make distclean
./configure --enable-parallel --disable-openmp --without-scalapack
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi.x
EOF
)

makescript[4]=$(cat <<EOF
make distclean
./configure --enable-parallel --disable-openmp --with-scalapack
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi-scalapack.x
EOF
)

makescript[5]=$(cat <<EOF
make distclean
./configure --enable-parallel --disable-openmp --with-scalapack --with-elpa
make MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw
cp PW/src/pw.x ${FINALDIR}/pw-mpi-elpa.x
EOF
)

makescript[6]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu.x
EOF
)

makescript[7]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  --with-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu-scalapack.x
EOF
)

makescript[8]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  --with-scalapack  --with-elpa
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu-elpa.x
EOF
)

makescript[9]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm  --without-scalapack    --with-internal-cblas
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu-magma.x
EOF
)

makescript[10]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm   
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-PHIGEMM.x
EOF
)

makescript[11]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm=profile
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-PHIGEMM-profiling.x
EOF
)

makescript[12]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --without-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-MAGMA.x
EOF
)

makescript[13]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --without-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-NEWD.x
EOF
)

makescript[14]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --without-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-ADDUSDENS.x
EOF
)

makescript[15]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --without-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_only-VLOCPSI.x
EOF
)

makescript[16]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  --without-scalapack   
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_only-PHIGEMM.x
EOF
)

makescript[17]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm=profile  --without-scalapack
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_only-PHIGEMM-profiling.x
EOF
)

makescript[18]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --without-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_only-MAGMA.x
EOF
)

makescript[19]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --without-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_only-NEWD.x
EOF
)

makescript[20]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --without-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_only-ADDUSDENS.x
EOF
)

makescript[21]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --without-phigemm   
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_excluding-PHIGEMM.x
EOF
)

makescript[22]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_excluding-MAGMA.x
EOF
)

makescript[23]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_excluding-NEWD.x
EOF
)

makescript[24]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_excluding-ADDUSDENS.x
EOF
)

makescript[25]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --disable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_VLOCPSI" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-gpu_excluding-VLOCPSI.x
EOF
)

makescript[26]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --without-phigemm  --without-scalapack   
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_excluding-PHIGEMM.x
EOF
)

makescript[27]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --without-magma --with-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_excluding-MAGMA.x
EOF
)

makescript[28]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_NEWD" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_excluding-NEWD.x
EOF
)

makescript[29]=$(cat <<EOF
make -f Makefile.gpu distclean
cd GPU/
./configure --enable-parallel --disable-openmp --enable-cuda --with-gpu-arch=35 --with-cuda-dir=${CUDA_HOME} --with-magma --with-phigemm  --without-scalapack 
cd ../
make -f Makefile.gpu MANUAL_DFLAGS="-D__CLOCK_SECONDS -D__PW_TRACK_ELECTRON_STEPS -D__DISABLE_CUDA_ADDUSDENS" pw-gpu
cp GPU/PW/pw-gpu.x ${FINALDIR}/pw-mpi-gpu_excluding-ADDUSDENS.x
EOF
)

